import { 
  LayoutGrid, 
  TrendingUp, 
  Activity, 
  AlertTriangle,
  Layers,
  Crosshair,
  ShieldCheck,
  Zap,
  BarChart2,
  Clock,
  BrainCircuit,
  Swords,
  Gauge
} from 'lucide-react';
import { Module } from './types';

export const modules: Module[] = [
  {
    id: 'mindset',
    title: '第0章：核心认知 (眼镜)',
    subtitle: '挡风玻璃 vs 仪表盘',
    icon: BrainCircuit,
    description: '别把指标当水晶球，它们只是你开车的仪表盘。',
    sections: [
      {
        title: '👓 核心认知：你必须戴上的眼镜',
        type: 'concept',
        content: `在看图表之前，你得先明白这一趟旅行的逻辑。开车时，你其实只关心三件事：
1. **车往哪开？**（前进还是倒车？——方向）
2. **油门踩到底了吗？**（动力足不足？——强弱）
3. **车速快不快？**（是高速还是堵车？——节奏）

所以，我们的指标体系分得特别科学：
*   **主图指标（挡风玻璃）**：看路况。决定路能不能走（方向对不对）。
*   **副图指标（仪表盘）**：看车况。决定油门怎么踩（动力足不足）。

👉 **先看挡风玻璃（主图），路通了再决定开不开。**
👉 **再看仪表盘（副图），决定是猛踩油门还是点刹车。**`
      },
      {
        title: '📊 完整的交易分层体系',
        type: 'process',
        content: [
          '第1层【看路况】：主图 (MA/EMA/SUPER)。是上坡、下坡还是平地？',
          '第2层【看车道】：波动 (BOLL)。现在是在超车道（贵）还是慢车道（便宜）？',
          '第3层【看油量】：动能 (VOL/MACD)。这车跑得快是因为油门踩到底了，还是空挡滑行？',
          '第4层【看体力】：择时 (RSI/KDJ)。现在的行情是不是“累”了？'
        ]
      }
    ]
  },
  {
    id: 'visualization',
    title: '第一章：交易指标可视化指南',
    subtitle: '像开车一样理解技术指标',
    icon: Gauge,
    description: '从仪表盘到实战操作，建立最直观的指标体感。',
    sections: [
       {
        title: '一、核心认知：你必须先戴上的"眼镜"',
        type: 'concept',
        content: `指标不是预测未来的"水晶球"，而是翻译现状的"仪表盘"。

开车时，你其实只关心三件事：

🧭 **车往哪开？** (前进还是倒车？—— 方向)
⚡ **油门踩到底了吗？** (动力足不足？—— 强弱)
🏎️ **车速快不快？** (是高速还是堵车？—— 节奏)

**系统分类：**
*   **主图指标（挡风玻璃）**：看路况。决定路能不能走（方向对不对）。
*   **副图指标（仪表盘）**：看车况。决定油门怎么踩（动力足不足）。

👉 先看挡风玻璃（主图），路通了再决定开不开。
👉 再看仪表盘（副图），决定是猛踩油门还是点刹车。`
      },
      {
        title: '二、主图指标：看清"路况"（决定往哪开）',
        type: 'concept',
        content: '主图就是你的挡风玻璃，它只回答一个问题：现在是上坡、下坡，还是在平地上瞎转悠？'
      },
      {
        title: 'MA - 移动平均线',
        type: 'tips',
        content: [
          '⚖️ **大家的平均体重**',
          '大白话：把过去30天的体重加起来除以30。如果这条"平均体重线"一直在往上走，说明你真的胖了（趋势向上）。',
          '怎么用：价格在线上=好世道(赚钱)；MA5>MA20>MA60=顺风顺水，大胆开。',
          '缺点：它是"事后诸葛亮" (滞后)。'
        ]
      },
      {
        title: 'EMA - 指数移动平均线',
        type: 'tips',
        content: [
          '⏱️ **最近的平均体重**',
          '大白话：相比于MA，它更在乎你最近几天是不是暴饮暴食。反应快！',
          '怎么用：它是"安全带"。上涨时，价格如果不跌破这条线，就别下车。'
        ]
      },
      {
        title: 'BOLL - 布林线',
        type: 'tips',
        content: [
          '🛣️ **高速公路的车道**',
          '大白话：给价格修的高速路。上轨=左侧超车道(贵)；下轨=右侧慢车道(便宜)。',
          '收口：路变窄了，马上要变天(憋大招)。',
          '开口：路变宽了，开始飙车(加速期)。',
          '贴轨：贴着护栏飙车，行情极强。'
        ]
      },
      {
        title: 'SAR - 抛物线转向',
        type: 'tips',
        content: [
          '🎯 **魔鬼教练的哨子**',
          '大白话：教练跟着跑。点在K线下面=教练推着你(多)；点在上面=教练压着你(空)。',
          '怎么用：点位翻转=教练吹哨"停！反向跑！"。傻瓜式止损。',
          '缺点：震荡市里教练会不停吹哨，把你累死。'
        ]
      },
      {
        title: 'AVL - 均价线',
        type: 'tips',
        content: [
          '💰 **全场平均成本价**',
          '大白话：这一车人的回本线。',
          '价格在线上：大家喜气洋洋(赚钱)。',
          '价格在线下：大家骂骂咧咧(亏钱)。',
          '这是主力爱搞事情的地方。'
        ]
      },
      {
        title: 'SUPER - 超级趋势',
        type: 'tips',
        content: [
          '🚦 **智能红绿灯**',
          '大白话：比平均线更聪明的红绿灯。自动调整红绿灯时间。',
          '绿线托底：一路绿灯，放心开。',
          '红线压顶：一路红灯，别硬闯。'
        ]
      },
      {
        title: '三、副图指标：看清"车况"（决定能不能持久）',
        type: 'concept',
        content: '路况看完了，现在看仪表盘。副图解决的问题是：这车看着跑得快，是真有劲，还是空挡滑行？'
      },
      {
        title: 'VOL - 成交量',
        type: 'tips',
        content: [
          '⛽ **油箱里的油 / 观众的掌声**',
          '没油的车跑不远；没人鼓掌的演出是假High。',
          '放量上涨：真材实料 (大家拿真金白银买的)。',
          '缩量上涨：虚张声势 (没人买单)，随时掉下来。'
        ]
      },
      {
        title: 'MACD',
        type: 'tips',
        content: [
          '🏎️ **车速表与加速度**',
          '大白话：看这辆车的后劲足不足。',
          '零轴上方：前进挡 (顺风局)。零轴下方：倒挡 (逆风局)。',
          '背离(关键)：车速(价格)飙升，但转速表(MACD)下降。说明发动机要爆缸，赶紧跳车！'
        ]
      },
      {
        title: 'RSI - 相对强弱指标',
        type: 'tips',
        content: [
          '💪 **运动员的体力条**',
          '大白话：看市场是不是跑累了。',
          '数值>70：兴奋过头。跑太猛，随时累趴 (该卖了)。',
          '数值<30：累过头了。趴地装死，随时跳起来 (该买了)。',
          '牛人特征：真正的强趋势，体力条一直在50以上。'
        ]
      },
      {
        title: 'KDJ - 随机指标',
        type: 'tips',
        content: [
          '💓 **敏感的心电图**',
          '大白话：神经质，反应超级快。',
          '用法：专门做短线。看长线就是谎报军情，噪音太大。'
        ]
      },
      {
        title: 'OBV - 能量潮',
        type: 'tips',
        content: [
          '👣 **聪明人的脚印**',
          '大白话：价格还没动，钱先动了。',
          '逻辑：网红店没开门(价未涨)，门口已排长队(量增)。肯定火。'
        ]
      },
      {
        title: 'WR - 威廉指标',
        type: 'tips',
        content: [
          '🎯 **弹簧的松紧度**',
          '大白话：测量价格是否被拉到了极限。',
          '用法：弹簧压到底(0)或拉到头(-100)必反弹。抓超跌反弹。'
        ]
      },
      {
        title: 'StochRSI',
        type: 'tips',
        content: [
          '🔍 **放大镜下的RSI**',
          '大白话：极其敏感的体力条。',
          '用法：找"精确到秒"的入场点，做二次确认。'
        ]
      },
      {
        title: '📋 操作手册总结',
        type: 'process',
        content: [
          '1. 先看挡风玻璃 (主图)：如果是上坡路 (MA/EMA向上，BOLL开口)，准备开车。',
          '2. 再看仪表盘 (副图)：油足不足 (VOL)? 发动机有劲吗 (MACD)? 体力透支了吗 (RSI)?',
          '3. 最后决定：路况好 + 油足 + 车况好 = 地板油，出发！🚀'
        ]
      }
    ]
  },
  {
    id: 'framework',
    title: '第二章：看清路况 (主图)',
    subtitle: '决定往哪开',
    icon: TrendingUp,
    description: '主图就是你的挡风玻璃。它只回答一个问题：现在是上坡（做多）、下坡（做空），还是在平地上瞎转悠（观望）？',
    sections: [
      {
        title: '1. MA｜移动平均线 (大家的平均体重)',
        type: 'concept',
        chartType: 'ma',
        content: `**大白话**：
比如你每天称体重，今天吃多了重两斤，明天拉肚子轻一斤，这叫“波动”。但如果把你过去30天的体重加起来除以30，画成一条线，这就是MA。

**看什么**：
如果这条“平均体重线”一直在往上走，说明你真的胖了（趋势向上）。

**怎么用**：
*   **价格在平均线上面**：说明现在的价格比大家的平均成本贵，大家都在赚钱，是个好世道。
*   **均线排列**：MA5（最近5天心情）、MA20（最近一月运气）、MA60（季度运势）。如果 心情 > 运气 > 运势，说明顺风顺水，大胆开。`
      },
      {
        title: '复盘：519 大跌前夕',
        type: 'real-world',
        asset: 'BTC/USDT',
        date: '2021年4-5月',
        content: `**背景**：BTC 在 64800 见顶后，开始高位震荡。
        
**指标表现**：
1. **死叉确认**：5月10日左右，MA5 下穿 MA20，随后 MA20 下穿 MA60。**大家的运气和运势都变差了**。
2. **支撑失效**：5月12日，价格放量跌破 MA60 (牛熊分界线)。
3. **结果**：随后发生著名的 "519" 暴跌，价格腰斩。`
      },
      {
        title: '2. EMA｜指数均线 (安全带)',
        type: 'concept',
        chartType: 'ema',
        content: `**大白话**：
相比于 MA，EMA 觉得昨天的体重比 20 天前的更重要。它更在乎你最近几天是不是暴饮暴食了。

**怎么用**：
它是你的**“安全带”**。
在上涨趋势中，只要价格不跌破这条线，就别下车，接着奏乐接着舞。`
      },
      {
        title: '复盘：Solana 狂暴牛市',
        type: 'real-world',
        asset: 'SOL/USDT',
        date: '2023年10月-12月',
        content: `**背景**：SOL 从 20 美元启动，开启主升浪。
        
**指标表现**：
在长达 3 个月的拉升中，日线级别的 K 线实体**几乎从未跌破 EMA20（安全带）**。
只要价格回踩 EMA20，立即有买盘承接。

**教训**：
在这种单边行情中，安全带没断就别乱跳车，否则会错过后面 5 倍的涨幅。`
      },
      {
        title: '3. SuperTrend｜超级趋势 (智能红绿灯)',
        type: 'concept',
        chartType: 'supertrend',
        content: `**大白话**：
这是一个比平均线更聪明的红绿灯。它根据路况好坏（波动率）自动调整红绿灯的时间。

**怎么用**：
*   **绿色线在下面托着**：一路绿灯，放心开。
*   **红色线在上面压着**：一路红灯，别硬闯。
*   **变色了？** 那就是变天了，赶紧掉头。`
      },
      {
        title: '4. SAR｜抛物线转向 (魔鬼教练)',
        type: 'concept',
        chartType: 'sar',
        content: `**大白话**：
有个教练跟着你跑。
*   点在 K 线下面：教练推着你跑（多头）。
*   点在 K 线上面：教练压着你跑（空头）。

**怎么用**：
这是一个傻瓜式指标。点位一翻转，就像教练吹哨子：“停！反向跑！”这时候你就得赶紧止损换方向。`
      },
      {
        title: '5. AVL｜均价线 (回本线)',
        type: 'concept',
        chartType: 'avl',
        content: `**大白话**：
这一车人的回本线。

**怎么用**：
*   **价格在线上**：大部分人都赚钱，大家喜气洋洋。
*   **价格在线下**：大部分人都亏钱，大家骂骂咧咧。
这主要是看人心，也是主力爱搞事情的地方。`
      }
    ]
  },
  {
    id: 'volatility',
    title: '第三章：高速公路 (波动)',
    subtitle: '车道与速度',
    icon: Layers,
    description: '通过 BOLL 布林线判断路是宽还是窄，是该加速还是该减速。',
    sections: [
      {
        title: '6. BOLL｜布林线 (高速车道)',
        type: 'concept',
        chartType: 'boll',
        content: `**大白话**：
这就是给价格修的一条高速路。
*   **中轨**：路中间。
*   **上轨**：左侧超车道（太贵了）。
*   **下轨**：右侧慢车道（太便宜了）。

**三个信号**：
1.  **收口**：路变窄了，说明要修路或者出事故，马上要变天了（憋大招）。
2.  **开口**：路变宽了，大家开始飙车了（加速期）。
3.  **贴轨**：车子贴着护栏飙车，说明司机疯了，行情极强。`
      },
      {
        title: '复盘：ETF 获批后的缩口突破',
        type: 'real-world',
        asset: 'BTC/USDT',
        date: '2023年10月',
        content: `**背景**：BTC 在 26000-28000 区间横盘了近两个月。
        
**指标表现**：
1. **极致收口**：高速路修得只剩一条道了（波动率极低），意味着马上要通车。
2. **大阳突破**：价格放量冲上超车道（上轨）。
3. **开口确认**：路面瞬间变宽，单边行情开始。

**操作**：
此时是最佳的右侧追涨点，随后价格一路不回头冲向 40000+。`
      }
    ]
  },
  {
    id: 'momentum',
    title: '第四章：看清车况 (动能)',
    subtitle: '决定能不能持久',
    icon: Gauge,
    description: '路况看完了，现在看仪表盘。这车看着跑得快，是真有劲，还是空挡滑行？',
    sections: [
      {
        title: '7. VOL｜成交量 (油箱里的油)',
        type: 'concept',
        chartType: 'vol',
        content: `**最重要的一句**：
没油的车跑不远；没人鼓掌的演出是假 High。

**核心逻辑**：
*   **放量（价格涨+油量大）**：这叫“真材实料”，大家拿真金白银买上去的。
*   **缩量（价格涨+油量小）**：这叫“虚张声势”，没人买单，价格随时会掉下来。`
      },
      {
        title: '复盘：DeFi Summer 前的吸筹',
        type: 'real-world',
        asset: 'ETH/USDT',
        date: '2020年3月-6月',
        content: `**背景**：312 暴跌后，ETH 价格一直在 200 美元左右徘徊。
        
**指标表现**：
价格虽然没有明显上涨（横盘），但 OBV 指标（聪明人的脚印）却在一路走高。
这意味着**聪明钱**在不断买入，只是压着价格不让涨。

**结果**：
随后 DeFi Summer 爆发，ETH 从 200 美元一路狂奔至 4000 美元。`
      },
      {
        title: '8. MACD｜趋势动力条 (车速与加速度)',
        type: 'concept',
        chartType: 'macd',
        content: `**大白话**：
看这辆车的后劲足不足。

**怎么用**：
*   **零轴上方**：车子在前进挡，属于顺风局。
*   **零轴下方**：车子在倒挡，属于逆风局。
*   **背离（最关键）**：车速（价格）还在往上飙，但转速表（MACD）已经掉下来了。说明发动机要爆缸了，赶紧跳车！`
      },
      {
        title: '复盘：69000 历史大顶',
        type: 'real-world',
        asset: 'BTC/USDT',
        date: '2021年11月',
        content: `**背景**：BTC 突破前高 64800，到达 69000 美元。
        
**指标表现 (顶背离)**：
1. **价格**：创了新高 (69k > 64k)，车速更快了。
2. **MACD**：红柱子高度远低于 4月，转速表却下去了。
3. **含义**：动能衰竭。发动机空转，车速虽然快，但马上要趴窝。

**结果**：
这是教科书级别的**周线顶背离**，随后开启了长达一年的熊市。`
      },
      {
        title: '9. OBV｜能量潮 (聪明人的脚印)',
        type: 'concept',
        chartType: 'obv',
        content: `**大白话**：
价格还没动，钱先动了。

**核心逻辑**：
就像去网红店排队。你看到门口排队的人（量）变多了，虽然店门还没开（价没涨），但你知道一会儿肯定火。OBV 就是用来发现这种“悄悄进村”的资金。`
      }
    ]
  },
  {
    id: 'timing',
    title: '第五章：体力条 (择时)',
    subtitle: '精确打击',
    icon: Clock,
    description: 'RSI、KDJ、WR 就像运动员的体检报告，看市场是不是累了。',
    sections: [
      {
        title: '10. RSI｜情绪温度计 (运动员体力条)',
        type: 'concept',
        chartType: 'rsi',
        content: `**大白话**：
看看市场这个运动员是不是跑累了。

**怎么用**：
*   **数值超过 70**：“兴奋过头”。跑得太猛，满脸通红，随时可能累趴下（该卖了）。
*   **数值低于 30**：“累过头了”。趴在地上装死，随时可能休息好跳起来（该买了）。

**高级认知**：
真正的牛人（强趋势），体力条一直在 50 以上，根本不知疲倦。`
      },
      {
        title: '复盘：FTX 暴雷底背离',
        type: 'real-world',
        asset: 'BTC/USDT',
        date: '2022年11月',
        content: `**背景**：FTX 交易所崩溃，BTC 跌破 16000，市场极度恐慌。
        
**指标表现**：
虽然价格刺破了前低 (17500 -> 15500)，创了新低（运动员跑得更远了）。
但是 RSI 指标并没有创新低（体力条反而回升了）。
这意味着：**虽然还在跌，但空头已经没力气了。**

**结果**：
这成为了本轮周期的绝对底部。`
      },
      {
        title: '11. KDJ｜随机指标 (敏感的心电图)',
        type: 'concept',
        chartType: 'kdj',
        content: `**大白话**：
它的反应超级快，像个神经质的人。一点风吹草动它就跳。

**怎么用**：
专门用来做短线。今天买明天卖这种，看它很准。但如果看长线，它就像个谎报军情的探子，噪音太大。`
      },
      {
        title: '12. WR｜威廉指标 (弹簧松紧度)',
        type: 'concept',
        chartType: 'wr',
        content: `**大白话**：
测量价格是不是被拉到了极限。

**怎么用**：
就像一根弹簧，压到底（接近 0）或者拉到头（接近 -100），它就会反弹。专门用来抓那种“超跌反弹”的机会。`
      },
      {
        title: '13. StochRSI｜(放大镜下的 RSI)',
        type: 'concept',
        chartType: 'stochrsi',
        content: `**大白话**：
如果 RSI 是体力条，这个就是极其敏感的体力条。

**怎么用**：
它是用来找精准开枪时机的。就是那种“精确到秒”的入场点，用来做二次确认。`
      }
    ]
  },
  {
    id: 'combo',
    title: '第六章：黄金组合战法',
    subtitle: '1+1 > 2 的威力',
    icon: Swords,
    description: '单一指标有缺陷，组合使用能大幅提高胜率。这里介绍三套顶级游资常用的战法。',
    sections: [
      {
        title: '🔥 战法一：趋势共振 (地板油)',
        type: 'process',
        chartType: 'macd',
        chartScenario: 'resonance_bull',
        content: [
          '**核心逻辑**：路况好 + 油足 + 车况好 = 地板油，出发！',
          '1. **路况（主图）**：MA20 向上，均线多头排列（上坡路）。',
          '2. **动力（MACD）**：在零轴上方金叉（引擎轰鸣）。',
          '3. **油量（VOL）**：成交量放大（油箱加满）。',
          '**操作**：全仓出击，止损设在 MA20 下方。'
        ]
      },
      {
        title: '🌊 战法二：海底捞月 (接飞刀)',
        type: 'process',
        chartType: 'rsi',
        chartScenario: 'divergence_bull',
        content: [
          '**核心逻辑**：利用背离形态，找别人累趴下的时候。',
          '1. **左侧信号**：价格创新低，但 RSI 体力条不再创新低 (底背离)。',
          '2. **极端位置**：价格撞到 BOLL 下轨护栏，且 WR 弹簧压死 (超卖)。',
          '3. **右侧确认**：等待一根阳线收复 MA5。',
          '**操作**：轻仓试错，反弹至中轨减仓。'
        ]
      }
    ]
  },
  {
    id: 'summary',
    title: '第七章：实战检查表',
    subtitle: '交易纪律',
    icon: Zap,
    description: '下单前，问自己三个问题。',
    sections: [
      {
        title: '🛑 下单前三问',
        type: 'discipline',
        content: [
          '1. 路况：现在的趋势方向是什么？(MA/EMA)',
          '2. 盈亏比：如果我看错了，要亏多少？(止损点)',
          '3. 共振：有没有至少两个仪表盘同时显示“可以开”？'
        ]
      }
    ]
  }
];